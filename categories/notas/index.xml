<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Notas on Notas mal escritas</title>
    <link>https://fabrice-bernes.github.io/categories/notas/</link>
    <description>Recent content in Notas on Notas mal escritas</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Tue, 02 May 2023 00:00:00 +0000</lastBuildDate>
    
	<atom:link href="https://fabrice-bernes.github.io/categories/notas/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>BloqMayús es una tecla poderosa</title>
      <link>https://fabrice-bernes.github.io/post/caps_hjkl/linux_caps&#43;hjkl_son_flechas/</link>
      <pubDate>Tue, 02 May 2023 00:00:00 +0000</pubDate>
      
      <guid>https://fabrice-bernes.github.io/post/caps_hjkl/linux_caps&#43;hjkl_son_flechas/</guid>
      <description>&lt;h1 id=&#34;después-de-usar-vim-usar-hjkl-como-direcciones-es-muy-cómodo&#34;&gt;Después de usar VIM, usar hjkl como direcciones es muy cómodo&lt;/h1&gt;
&lt;p&gt;La wiki de Arch explica cómo hacer que todos los teclados hagan que
BloqMayús+hjkl se reconozca como las flechas de dirección en cualquier sesión de X11,
pero es una explicación algo escueta y no quiero leer todo lo anterior y más para llegar a eso.&lt;/p&gt;
&lt;p&gt;Esta guía la escribo sin entender los conceptos tan abstractos que usa X11 para enviar eventos de teclado
(scancodes, keycodes, layers, modifiers, symbols &amp;hellip;)&lt;/p&gt;
&lt;p&gt;Primero que nada, conviene quitar &lt;strong&gt;cualquier&lt;/strong&gt; modificación previa a BloqMayús.
Esto incluye keybinds puestos en awesome, y opciones como &lt;code&gt;option caps:none&lt;/code&gt; de &lt;code&gt;setxkbmap&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Si algún atajo de awesome intercepta la tecla BloqMayús, entonces
&lt;code&gt;xev&lt;/code&gt; mostrará eventos de BloqMayús como líneas llenas de ceros. Algo similar a esto:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;KeymapNotify event, serial 36, synthetic NO, window 0x0,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    keys:  &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;           &lt;span style=&#34;color:#ae81ff&#34;&gt;32&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Y si hemos configurado &lt;code&gt;setxkbmap&lt;/code&gt; para cambiar el comportamiento de BloqMayús,
tenemos que ir a &lt;code&gt;/etc/X11/xorg.conf.d/00-keyboard.conf&lt;/code&gt;
y quitar lo que esté en la línea que dice &lt;code&gt;Option &amp;quot;XkbOptions&amp;quot;&lt;/code&gt;.
Por ejemplo, en vez de:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Section &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;InputClass&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Identifier &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;system-keyboard&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        MatchIsKeyboard &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;on&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Option &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;XkbLayout&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;latam&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Option &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;XkbOptions&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;keypad:pointerkeys,caps:none&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;EndSection
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Queremos:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Section &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;InputClass&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Identifier &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;system-keyboard&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        MatchIsKeyboard &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;on&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Option &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;XkbLayout&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;latam&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Option &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;XkbOptions&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;keypad:pointerkeys&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;EndSection
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Pongo todo el archivo en vez de sólo la línea importante para recordar cómo se ve &lt;code&gt;XkbOptions&lt;/code&gt;
en un archivo de configuración. Las opciones van separadas por comas &lt;strong&gt;sin espacios&lt;/strong&gt;,
y tienen la forma &lt;code&gt;objeto:propiedad&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Ya que quitamos a &lt;code&gt;xkbmap&lt;/code&gt; y &lt;code&gt;awesome&lt;/code&gt; de enmedio, podemos cambiar archivos más profundos.
Primero que nada, hagamos a &lt;code&gt;/usr/share/X11/xkb&lt;/code&gt; nuestro directorio de trabajo:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#111&#34;&gt;cd&lt;/span&gt; /usr/share/X11/xkb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;archivo-types&#34;&gt;Archivo types&lt;/h2&gt;
&lt;p&gt;Abrimos &lt;code&gt;types/complete&lt;/code&gt; con un editor de texto.
Originalmente se veía así:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;default xkb_types &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;complete&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    include &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;basic&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    include &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;mousekeys&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    include &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;pc&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    include &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;iso9995&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    include &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;level5&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    include &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;extra&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    include &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;numpad&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora se ve así:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;default xkb_types &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;complete&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    include &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;basic&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    include &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;mousekeys&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    include &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;pc&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    include &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;iso9995&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    include &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;level5&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    include &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;extra&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    include &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;numpad&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;type&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;CUST_CAPSLOCK&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;modifiers&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Shift+Lock&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    map&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Shift&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Level2&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;            //maps &lt;span style=&#34;color:#111&#34;&gt;shift&lt;/span&gt; and no Lock. Shift+Alt goes here, too, because Alt isn&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt;t in modifiers.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    map&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Lock&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Level3&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    map&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Shift+Lock&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Level3&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;       //maps &lt;span style=&#34;color:#111&#34;&gt;shift&lt;/span&gt; and Lock. Shift+Lock+Alt goes here, too.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    level_name&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Level1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;Base&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    level_name&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Level2&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;Shift&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    level_name&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Level3&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;Lock&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Podemos poner comentarios empezando con &lt;code&gt;//&lt;/code&gt;,
y en este archivo estamos usando 4 espacios para indentar,
aunque dudo que importe. Incluso líneas en blanco deberían dejar todo bien
siempre y cuando los delimitadores (; {}; []) estén bien.&lt;/p&gt;
&lt;h2 id=&#34;archivo-compatibility&#34;&gt;Archivo compatibility&lt;/h2&gt;
&lt;p&gt;Abrimos &lt;code&gt;compat/complete&lt;/code&gt; con un editor de texto.
Originalmente se veía así:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;default xkb_compatibility &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;complete&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    include &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;basic&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    augment &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;iso9995&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    augment &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;mousekeys&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    augment &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;accessx(full)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    augment &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;misc&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    augment &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;xfree86&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    augment &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;level5&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    augment &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;caps(caps_lock)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora se ve así:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;default xkb_compatibility &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;complete&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    include &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;basic&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    augment &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;iso9995&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    augment &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;mousekeys&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    augment &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;accessx(full)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    augment &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;misc&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    augment &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;xfree86&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    augment &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;level5&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    augment &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;caps(caps_lock)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    interpret Caps_Lock+AnyOfOrNone&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;all&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;action&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; SetMods&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;modifiers&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;Lock&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;archivo-symbols&#34;&gt;Archivo symbols&lt;/h2&gt;
&lt;p&gt;Esta parte es la más complicada.
Aunque podríamos pensar que debemos modificar &lt;code&gt;symbols/latam&lt;/code&gt;,
en realidad debemos cambiar &lt;code&gt;symbols/pc&lt;/code&gt;.
De todas formas &lt;code&gt;symbols/latam&lt;/code&gt; tiene mapeos que se aplicarán &lt;em&gt;después&lt;/em&gt; de incluir &lt;code&gt;symbols/pc&lt;/code&gt;.
Resulta que &lt;code&gt;pc&lt;/code&gt; aplica a todas las distribuciones de teclado.
Entonces, abrimos &lt;code&gt;symbols/pc&lt;/code&gt; con un editor de texto.&lt;/p&gt;
&lt;p&gt;Vamos a escribir varias entradas en el bloque &lt;code&gt;xkb_symbols &amp;quot;pc105&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Aquí pondré las primeras 10 líneas de ese archivo, y la última después de los puntos suspensivos:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;// The keys that are common to all standard layouts.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;default partial alphanumeric_keys modifier_keys
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;xkb_symbols &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;pc105&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    key  &amp;lt;ESC&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;{[&lt;/span&gt;  Escape  &lt;span style=&#34;color:#f92672&#34;&gt;]}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    key  &amp;lt;TAB&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;{[&lt;/span&gt;  Tab,  ISO_Left_Tab  &lt;span style=&#34;color:#f92672&#34;&gt;]}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    key &amp;lt;CAPS&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;{[&lt;/span&gt;  Caps_Lock  &lt;span style=&#34;color:#f92672&#34;&gt;]}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    key &amp;lt;BKSP&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;{[&lt;/span&gt;  BackSpace,  BackSpace  &lt;span style=&#34;color:#f92672&#34;&gt;]}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    key &amp;lt;BKSL&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;{[&lt;/span&gt;  backslash,  bar  &lt;span style=&#34;color:#f92672&#34;&gt;]}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ... // &amp;lt;-----Esos puntos suspensivos no son parte del archivo &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;-:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Las entradas que vamos a poner pueden ir donde sea.
Yo las puse entre la que dice &lt;code&gt;&amp;lt;CAPS&amp;gt;&lt;/code&gt; y la que dice &lt;code&gt;&amp;lt;BKSP&amp;gt;&lt;/code&gt;.
Necesitamos una para cada dirección (arriba, abajo, izquierda, derecha).&lt;/p&gt;
&lt;p&gt;La forma de las entradas es:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    key &amp;lt;&lt;span style=&#34;color:#111&#34;&gt;$1&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#111&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;CUST_CAPSLOCK&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;|&lt;/span&gt;  symbols&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;               &lt;span style=&#34;color:#111&#34;&gt;$2&lt;/span&gt;,               &lt;span style=&#34;color:#111&#34;&gt;$3&lt;/span&gt;,               &lt;span style=&#34;color:#111&#34;&gt;$4&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;|&lt;/span&gt;  actions&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,   RedirectKey&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;keycode&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&amp;lt;&lt;span style=&#34;color:#111&#34;&gt;$5&lt;/span&gt;&amp;gt;, &lt;span style=&#34;color:#111&#34;&gt;clearmods&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;Lock&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Donde dejé marcados los espacios que hay que llenar con &lt;code&gt;$número&lt;/code&gt;.
Ahora pongo una guía de cómo encontrar cada uno de esos espacios:&lt;/p&gt;
&lt;h3 id=&#34;primer-elemento&#34;&gt;Primer elemento&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;$1&lt;/code&gt; es el código que se encuentra en el archivo &lt;code&gt;keycodes/xfree86&lt;/code&gt;.
En ese archivo encontraremos líneas como:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &amp;lt;CAPS&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;  66&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &amp;lt;AC01&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;  38&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &amp;lt;AC02&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;  39&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &amp;lt;AC03&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;  40&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Lo que haremos será ejecutar &lt;code&gt;xev&lt;/code&gt; y presionar la tecla que queremos reasignar.
Por ejemplo, queremos que la &lt;code&gt;h&lt;/code&gt; sea la flecha a la izquierda.
Si presionamos la &lt;code&gt;h&lt;/code&gt; cuando la ventana de &lt;code&gt;xev&lt;/code&gt; está enfocada,
la terminal muestra esto sobre el evento &lt;code&gt;KeyRelease&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;KeyRelease event, serial 36, synthetic NO, window 0x4400001,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    root 0x1e1, subw 0x0, &lt;span style=&#34;color:#111&#34;&gt;time&lt;/span&gt; 162032730, &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;889,773&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;, root:&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;891,793&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    state 0x10, keycode &lt;span style=&#34;color:#ae81ff&#34;&gt;43&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;keysym 0x68, h&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;, same_screen YES,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    XLookupString gives &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; bytes: &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;68&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;h&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    XFilterEvent returns: False
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Lo importante aquí es la línea con &lt;code&gt;keycode 43&lt;/code&gt;. De hecho, si lo anterior es confuso,
podíamos haber corrido &lt;code&gt;xev&lt;/code&gt; detrás de un pipe hacia &lt;code&gt;grep&lt;/code&gt; así:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;xev &lt;span style=&#34;color:#111&#34;&gt;|&lt;/span&gt; grep keycode
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;para tener una salida más legible (TODO: &lt;code&gt;awk&lt;/code&gt; debería ser aún más limpio. O se necesitan 2 pipes?).&lt;/p&gt;
&lt;p&gt;Como sea, ahora buscaremos la línea que asigna un label al keycode 43 en &lt;code&gt;keycodes/xfree86&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;AC06&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;  43&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Entonces lo que debe ir en la marca &lt;code&gt;$1&lt;/code&gt; es &lt;code&gt;AC06&lt;/code&gt; para el mapeo de la h.&lt;/p&gt;
&lt;h3 id=&#34;segundo-tercero-y-cuarto-elemento&#34;&gt;Segundo, tercero y cuarto elemento&lt;/h3&gt;
&lt;p&gt;No me he dedicado a leer sobre el verdadero significado de cada entrada.
Creo que está explicado en la wiki de arch,
pero de todas formas, para estos mapeos sólo puse
la tecla minúscula, mayúscula, y su nombre en inglés (no es ni un label ni un keycode. No sé qué sea.).&lt;/p&gt;
&lt;p&gt;Así, por ejemplo, para remapear la h, las entradas &lt;code&gt;$2&lt;/code&gt;, &lt;code&gt;$3&lt;/code&gt; y &lt;code&gt;$4&lt;/code&gt; dicen:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;h&lt;/li&gt;
&lt;li&gt;H&lt;/li&gt;
&lt;li&gt;Left&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sin comillas ni nada. Al final de esta guía pongo las entradas completas para los 4 remapeos.&lt;/p&gt;
&lt;h3 id=&#34;quinto-elemento&#34;&gt;Quinto elemento&lt;/h3&gt;
&lt;p&gt;Aquí pondemos el label de la tecla que nos gustaría que X11 envíe cuando presionamos BloqMayús + hjkl.&lt;/p&gt;
&lt;p&gt;Por alguna razón (más bien porque no leí la wiki) &lt;code&gt;xev&lt;/code&gt; indica que
los keycodes de las flechas están mapeados a teclas que
en &lt;code&gt;keycodes/xfree86&lt;/code&gt; tienen etiquetas inesperadas como &lt;code&gt;&amp;lt;RALT&amp;gt;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Pero lo correcto es poner etiquetas &lt;code&gt;&amp;lt;UP&amp;gt;&lt;/code&gt; &lt;code&gt;&amp;lt;DOWN&amp;gt;&lt;/code&gt; &lt;code&gt;&amp;lt;LEFT&amp;gt;&lt;/code&gt; y &lt;code&gt;&amp;lt;RGHT&amp;gt;&lt;/code&gt; (no me comí la I en RGHT).
Esas etiquetas aparecen así en mi &lt;code&gt;keycodes/xfree86&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &amp;lt;UP&amp;gt;     &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;  98&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &amp;lt;LEFT&amp;gt;   &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;  100&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &amp;lt;DOWN&amp;gt;   &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;  104&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &amp;lt;RGHT&amp;gt;   &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;  102&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Y no tengo idea de qué teclas físicas envían esos códigos.
Pero para el quinto elemento sólo nos interesan las etiquetas,
las cuales tengo entendido que son de por sí arbitrarias (como aliases).&lt;/p&gt;
&lt;p&gt;Entonces, para el remapeo de la h, el quinto elemento es &lt;code&gt;LEFT&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;las-entradas-que-yo-hice&#34;&gt;Las entradas que yo hice&lt;/h2&gt;
&lt;p&gt;Mis entradas quedaron así:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    key &amp;lt;AC06&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#111&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;CUST_CAPSLOCK&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;|&lt;/span&gt;  symbols&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;               h,               H,               Left&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;|&lt;/span&gt;  actions&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,   RedirectKey&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;keycode&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&amp;lt;LEFT&amp;gt;, &lt;span style=&#34;color:#111&#34;&gt;clearmods&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;Lock&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    key &amp;lt;AC09&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#111&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;CUST_CAPSLOCK&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;|&lt;/span&gt;  symbols&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;               l,               L,               Right&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;|&lt;/span&gt;  actions&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,   RedirectKey&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;keycode&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&amp;lt;RGHT&amp;gt;, &lt;span style=&#34;color:#111&#34;&gt;clearmods&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;Lock&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    key &amp;lt;AC08&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#111&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;CUST_CAPSLOCK&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;|&lt;/span&gt;  symbols&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;               k,               K,               Up&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;|&lt;/span&gt;  actions&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,   RedirectKey&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;keycode&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&amp;lt;UP&amp;gt;, &lt;span style=&#34;color:#111&#34;&gt;clearmods&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;Lock&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    key &amp;lt;AC07&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;|&lt;/span&gt;  &lt;span style=&#34;color:#111&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;CUST_CAPSLOCK&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;|&lt;/span&gt;  symbols&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;               j,               j,               Down&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#111&#34;&gt;|&lt;/span&gt;  actions&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,   RedirectKey&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;keycode&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&amp;lt;DOWN&amp;gt;, &lt;span style=&#34;color:#111&#34;&gt;clearmods&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;Lock&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora, para probar los cambios, podemos cerrar nuestra sesión y volver a entrar,
o simplemente abrir una terminal y poner &lt;code&gt;setxkbmap latam&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Si hicimos algo mal, la terminal dirá algo como que hubo un error al cargar el keymap.
Si hicimos algo MUY mal, podría cargarse un fallback, o podríamos tener un teclado chistoso.
Como sólo estamos remapeando al nivel de X11, podemos arreglar nuestros errores desde una tty.&lt;/p&gt;
&lt;p&gt;Aunque este método puede parecer extremo
(creo que es posible hacer archivos con symbols, types y compat &lt;em&gt;por usuario&lt;/em&gt;),
es realmente muy robusto.
Ningún programa que esté a la espera de que presionemos las flechas sabrá que
físicamente estamos usando otras teclas. Ni siquiera nuestro gestor de ventanas.&lt;/p&gt;
&lt;p&gt;Además, la tecla BloqMayús sigue identificándose como tal cuando no la presiona junto a &lt;code&gt;hjkl&lt;/code&gt;.
Por lo que ya podemos regresar a nuestros keybinds de awesome y
asignar acciones a la tecla con scancode &lt;code&gt;&amp;quot;Caps_Lock&amp;quot;&lt;/code&gt; sin problemas.&lt;/p&gt;
&lt;p&gt;Aún no he intentado usar uno de los modificadores de &lt;code&gt;XkbOptions&lt;/code&gt; como &lt;code&gt;caps:none&lt;/code&gt;
(en cuyo caso los keybinds de awesome se pueden asignar a &lt;code&gt;&amp;quot;VoydSymbol&amp;quot;&lt;/code&gt; si no me equivoco),
pero todo apunta a que la tecla como tal ha quedado intacta,
salvo que ya no es un &lt;em&gt;toggle switch&lt;/em&gt; sino un &lt;em&gt;momentary switch&lt;/em&gt;,
y si actúa detrás de otras teclas, entonces es un modificador que no cambia de capa,
sino que traduce la tecla modificada a los &lt;code&gt;keycodes&lt;/code&gt; que querramos.&lt;/p&gt;
&lt;p&gt;Deberíamos poder usar &lt;code&gt;XkbOptions&lt;/code&gt; para que caps se identifique como la tecla Escape por ejemplo.
Luego, awesome puede usar keybinds como Super+Escape,
y vim puede usar BloqMayús para ir al modo normal.
De todas formas por ahora me contento con no tener &lt;code&gt;XkbOptions&lt;/code&gt; aparte de mousekeys.&lt;/p&gt;
&lt;h2 id=&#34;vale-la-pena-hacerlo-así&#34;&gt;Vale la pena hacerlo así?&lt;/h2&gt;
&lt;p&gt;Como todo en Linux, esta es una de muchas formas de lograr lo mismo.&lt;/p&gt;
&lt;p&gt;Cada una con sus ventajas y desventajas.
&lt;a href=&#34;https://tbuss.de/posts/2021/5-capslock_as_vim_modifier/&#34;&gt;Este man&lt;/a&gt;
logra lo mismo pero usando &lt;code&gt;xbindkeys&lt;/code&gt;.
Y en muchos lugar se mencionan xbindkeys y xmodmap para cosas similares,
principalmente porque son mucho más fáciles de configurar.&lt;/p&gt;
&lt;p&gt;Sobre &lt;code&gt;xmodmap&lt;/code&gt;, la wiki de arch dice:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&amp;ldquo;xmodmap is not directly related to X keyboard extension (XKB),
as it uses different (pre-XKB) ideas on how keycodes are processed within X.
Generally, it is only recommended for the simplest tasks.&amp;rdquo;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Y eso no me agrada.
&lt;code&gt;xbindkeys&lt;/code&gt; parece bastante mejor, y admite tanto mapeos directos y sencillos
(como los del artículo del man)
como scripts complejos con &lt;em&gt;guile&lt;/em&gt;, un lenguaje basado en lisp.&lt;/p&gt;
&lt;p&gt;De hecho, usé durante mucho tiempo el script que se muestra
&lt;a href=&#34;http://computers-stuff.blogspot.com/2007/06/my-xbindkeysrcscm-configruationf-file-i.html&#34;&gt;aquí&lt;/a&gt;
y siempre me funcionó perfecto. Se comporta así:&lt;/p&gt;
&lt;p&gt;Mi ratón tiene 5 botones.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Si hago scroll mientras presiono uno de los laterales, el volumen del sistema cambia.&lt;/li&gt;
&lt;li&gt;Si hago scroll mientras presiono el otro lateral, el volumen del reproductor cambia.&lt;/li&gt;
&lt;li&gt;Presionar un lateral más la ruedita del ratón, permite mutear el audio del sistema.&lt;/li&gt;
&lt;li&gt;Presionar el otro lateral más la ruedita del ratón, permite mutear el reproductor.&lt;/li&gt;
&lt;li&gt;Presionar los laterales solitos los hace funcionar como por defecto (Prev/Next).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Así que &lt;code&gt;xbindkeys&lt;/code&gt; es muy versátil cuando se lo usa con todo lo que ofrece,
pero también es de más alto nivel que lo que hicimos en esta guía,
y aunque me funcionó perfectamente para el ratón, no me ha ido tan bien con el teclado.&lt;/p&gt;
&lt;p&gt;Eso es contenido para otra guía, pero he visto que un desarrollador de &lt;code&gt;awesome&lt;/code&gt;
&lt;a href=&#34;https://github.com/awesomeWM/awesome/issues/1494&#34;&gt;no recomienda usar xbindkeys&lt;/a&gt;.
Dice así:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&amp;ldquo;Do not use obsolete tools like xmodmap. I have yet to see setxkbmap also causing this.
(And yes, I know that xmodmap is so much easier to use than setxkbmap).&amp;rdquo;&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&#34;una-nota-muy-importante&#34;&gt;Una nota muy importante&lt;/h2&gt;
&lt;p&gt;En un inicio de sesión posterior, y todos los que le siguieron, me di cuenta de que
las teclas hjkl &lt;em&gt;ya no se auto-repetían cuando las mantenía presionadas&lt;/em&gt;,
y eso se siente como usar calcetas llenas de lodo.&lt;/p&gt;
&lt;p&gt;Aún así, me ayudó a quitarme unas malas costumbre que tenía con vim,
pero es un problema enorme de todas formas.&lt;/p&gt;
&lt;p&gt;Para corregirlo, fui a ver
&lt;a href=&#34;https://unix.stackexchange.com/questions/41724/how-to-make-custom-key-type-auto-repeat-in-xkb&#34;&gt;aquí&lt;/a&gt;,
y le agregué líneas &lt;code&gt;autorepeat = yes&lt;/code&gt; a cada entrada de &lt;code&gt;symbols/pc&lt;/code&gt;,
para que todo se vea así:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    key &amp;lt;AC06&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       &lt;span style=&#34;color:#111&#34;&gt;autorepeat&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; yes,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       &lt;span style=&#34;color:#111&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;CUST_CAPSLOCK&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       symbols&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;               h,               H,               Left&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       actions&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,   RedirectKey&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;keycode&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&amp;lt;LEFT&amp;gt;, &lt;span style=&#34;color:#111&#34;&gt;clearmods&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;Lock&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    key &amp;lt;AC07&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       &lt;span style=&#34;color:#111&#34;&gt;autorepeat&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; yes,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       &lt;span style=&#34;color:#111&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;CUST_CAPSLOCK&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       symbols&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;               j,               j,               Down&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       actions&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,   RedirectKey&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;keycode&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&amp;lt;DOWN&amp;gt;, &lt;span style=&#34;color:#111&#34;&gt;clearmods&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;Lock&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    key &amp;lt;AC08&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       &lt;span style=&#34;color:#111&#34;&gt;autorepeat&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; yes,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       &lt;span style=&#34;color:#111&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;CUST_CAPSLOCK&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       symbols&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;               k,               K,               Up&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       actions&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,   RedirectKey&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;keycode&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&amp;lt;UP&amp;gt;, &lt;span style=&#34;color:#111&#34;&gt;clearmods&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;Lock&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    key &amp;lt;AC09&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       &lt;span style=&#34;color:#111&#34;&gt;autorepeat&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; yes,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       &lt;span style=&#34;color:#111&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#d88200&#34;&gt;&amp;#34;CUST_CAPSLOCK&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       symbols&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;               l,               L,               Right&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       actions&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Group1&lt;span style=&#34;color:#f92672&#34;&gt;]=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,      NoAction&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;,   RedirectKey&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;keycode&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&amp;lt;RGHT&amp;gt;, &lt;span style=&#34;color:#111&#34;&gt;clearmods&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;Lock&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#111&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Pero eso no arregló nada y no sé si culpar a &lt;code&gt;X11&lt;/code&gt;
o a lo poco que entiendo de cómo se mapea un teclado.&lt;/p&gt;
&lt;p&gt;Lo que arregló el problema fue (aún así decidí quedarme con las líneas &lt;code&gt;autorepeat= yes&lt;/code&gt;)
fue correr &lt;code&gt;xset r &amp;lt;keycode&amp;gt;&lt;/code&gt; para cada letra.&lt;/p&gt;
&lt;p&gt;Así, por ejemplo, viendo que escribí &lt;code&gt;key &amp;lt;AC09&amp;gt;&lt;/code&gt; en &lt;code&gt;symbols/pc&lt;/code&gt;,
si busco eso en &lt;code&gt;keycodes/xfree86&lt;/code&gt;, veo que dice &lt;code&gt;&amp;lt;AC09&amp;gt; =  46;&lt;/code&gt;
y entonces corro &lt;code&gt;xset r 46&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Al final, lo que hice fue correr lo siguiente al iniciar sesión:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;xset r &lt;span style=&#34;color:#ae81ff&#34;&gt;43&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;xset r &lt;span style=&#34;color:#ae81ff&#34;&gt;46&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;xset r &lt;span style=&#34;color:#ae81ff&#34;&gt;45&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;xset r &lt;span style=&#34;color:#ae81ff&#34;&gt;44&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Eso lo puse en mi &lt;code&gt;.xinitrc&lt;/code&gt; cuando no usaba un display manager.
Ahora que uso &lt;code&gt;lighdm&lt;/code&gt; con &lt;code&gt;minigreeter&lt;/code&gt;, lo pongo en &lt;code&gt;.xprofile&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Ya buscaré una forma más limpia e igual de robusta para remapear teclas
sin interferir con el autorepeat.&lt;/p&gt;
&lt;h2 id=&#34;extra-typematic-delay-and-typematic-rate&#34;&gt;Extra: typematic delay and typematic rate&lt;/h2&gt;
&lt;p&gt;Si corro &lt;code&gt;xset r rate&lt;/code&gt;, el teclado esperará a que mantenga una tecla presionada por 660ms
antes de empezar a auto repetirla a 25Hz.&lt;/p&gt;
&lt;p&gt;Si quiero que empiece a repetirla a 30Hz luego de 330ms, corro &lt;code&gt;xset r rate 330 30&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;otros-enlaces-de-interés&#34;&gt;Otros enlaces de interés&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://unix.stackexchange.com/questions/188164/override-a-few-keycodes-with-xkb&#34;&gt;https://unix.stackexchange.com/questions/188164/override-a-few-keycodes-with-xkb&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jbriales/xkb-extended-keys&#34;&gt;https://github.com/jbriales/xkb-extended-keys&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Instalar Arch</title>
      <link>https://fabrice-bernes.github.io/post/instalar_arch/</link>
      <pubDate>Fri, 31 Mar 2023 00:00:00 +0000</pubDate>
      
      <guid>https://fabrice-bernes.github.io/post/instalar_arch/</guid>
      <description>&lt;p&gt;&lt;strong&gt;Nota:&lt;/strong&gt; Esta guía la escribí hace mucho y puede tener errores o poco detalle en partes importantes.&lt;/p&gt;
&lt;h2 id=&#34;antes-que-nada&#34;&gt;Antes que nada&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Arrancar &lt;code&gt;archiso x86_64&lt;/code&gt;. Se inicia sesión como &lt;code&gt;root&lt;/code&gt; por defecto (arrancar &lt;code&gt;archiso x86_64&lt;/code&gt; inicia una sesión con los máximos permisos)&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Comprobar que estamos conectados a internet haciendo:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ping archlinux.org
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Si la computadora recibe datos, entonces sí estamos. Podemos terminar la prueba con &lt;strong&gt;Ctrl+c&lt;/strong&gt;&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;. Ahora empieza la instalación.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Para evitar problemas, escogemos la disposición de teclado adecuada, asignando al programa &lt;code&gt;loadkeys&lt;/code&gt; el archivo relevante (&lt;em&gt;e.g.&lt;/em&gt; &lt;code&gt;loadkeys de-latin1&lt;/code&gt;)&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Para ver la lista de disposiciones de teclado hacemos&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ls /usr/share/kbd/keymaps/**/*.map.gz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Nótese que omitimos la ruta hacia el archivo &lt;code&gt;de-latin1.map.gz&lt;/code&gt; y omitimos también su extensión&lt;sup id=&#34;fnref:4&#34;&gt;&lt;a href=&#34;#fn:4&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;4&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;h2 id=&#34;modos-de-arranque&#34;&gt;Modos de arranque&lt;/h2&gt;
&lt;p&gt;Debemos revisar si la computadora arranca en modo  &lt;strong&gt;BIOS, UEFI,&lt;/strong&gt; o &lt;strong&gt;CSM&lt;/strong&gt;. Esto determinará algunas de las características de la instalación, como las referentes a la llamada &lt;em&gt;partición de arranque&lt;/em&gt;, entre otras cosas.&lt;/p&gt;
&lt;p&gt;Para saber en qué modo estamos, corremos &lt;code&gt;ls&lt;/code&gt; así:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ls /sys/firmware/efi/efivars
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Si podemos ver tal directorio sin ningún error, entonces la compu arranca en modo &lt;strong&gt;UEFI&lt;/strong&gt;. Esto implica que &lt;code&gt;Archiso&lt;/code&gt; usó &lt;code&gt;systemd-boot&lt;/code&gt; (un gestor de arranque) para cargar el kernel y disco &lt;strong&gt;RAM&lt;/strong&gt; inicial (initrd)&lt;sup id=&#34;fnref:5&#34;&gt;&lt;a href=&#34;#fn:5&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;5&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;Según el modo (&lt;strong&gt;UEFI, BIOS&lt;/strong&gt;) en que arranque la compu, tendremos que particionar el disco de manera adecuada:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Formato &lt;strong&gt;MBR&lt;/strong&gt; (Master Boot Record) si la compu inicia en modo &lt;strong&gt;BIOS&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Formato &lt;strong&gt;GPT&lt;/strong&gt; (Global Partition Table) si la compu inica en modo &lt;strong&gt;UEFI&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Además, habrá que respetar las limitaciones de dichos formatos, como el tamaño máximo de una partición, etc.&lt;/p&gt;
&lt;p&gt;Aquí haremos un disco particionado para funcionar (arrancar, iniciar) en un sistema &lt;strong&gt;UEFI&lt;/strong&gt;.&lt;/p&gt;
&lt;h2 id=&#34;sobre-la-fecha-y-hora&#34;&gt;Sobre la fecha y hora&lt;/h2&gt;
&lt;p&gt;El &lt;em&gt;servicio&lt;/em&gt; &lt;sup id=&#34;fnref:6&#34;&gt;&lt;a href=&#34;#fn:6&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;6&lt;/a&gt;&lt;/sup&gt; &lt;code&gt;timedatectl&lt;/code&gt; controla la fecha y hora del sistema. Para sincronizarlo con la red, hacemos:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;timedatectl set-ntp &lt;span style=&#34;color:#111&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Luego revisamos que sí esté sincronizado con:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;timedatectl status
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Más tarde escogeremos una zona horaria.&lt;/p&gt;
&lt;h2 id=&#34;particionar-discos&#34;&gt;Particionar discos&lt;/h2&gt;
&lt;p&gt;Ya podemos preparar el disco que tendrá ArchLinux. Esto lo haremos con el programa &lt;code&gt;fdisk&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Primero vemos los discos que hay conectados:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;fdisk -l
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;El disco 0 sería &lt;code&gt;sda&lt;/code&gt;, el disco 1 sería &lt;code&gt;sdb&lt;/code&gt;, etc. Hay &lt;code&gt;sda&lt;/code&gt;, &lt;code&gt;sdb&lt;/code&gt;, &lt;code&gt;sdc&lt;/code&gt;, &amp;hellip; , &lt;code&gt;sdx&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Todas las particiones del disco &lt;code&gt;sdx&lt;/code&gt; son &lt;code&gt;sdx1&lt;/code&gt;, &lt;code&gt;sdx2&lt;/code&gt;, &amp;hellip; , &lt;code&gt;sdxn&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Cuando decidamos en qué disco queremos trabajar, lo seleccionamos. Aquí como ejemplo trabajaremos con &lt;code&gt;sda&lt;/code&gt;, pero este puede no ser el caso. &lt;strong&gt;SIEMPRE hay que revisar las cosas 2 veces&lt;/strong&gt; cuando se trabaja con &lt;code&gt;fdisk&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;SIEMPRE hay que revisar las cosas 2 veces&lt;/strong&gt; cuando se trabaja con &lt;code&gt;fdisk&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Para seleccionar &lt;code&gt;sda&lt;/code&gt; (como ejemplo):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;fdisk /dev/sda
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora prepararemos la &lt;strong&gt;partición de sistema EFI&lt;/strong&gt;. Se recomienda hacerla de &lt;code&gt;512Mb&lt;/code&gt;. Es conveniente revisar sus requisitos, riesgos y limitaciones.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Escribimos &lt;code&gt;n&lt;/code&gt; para hacer una nueva partición.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Escogemos el número que tendrá dicha partición. La convención es seguir un orden ascendente; es decir, si &lt;code&gt;sda&lt;/code&gt; ya tenía &lt;code&gt;sda1&lt;/code&gt; y &lt;code&gt;sda2&lt;/code&gt;, lo más estándar será nombrar a la siguiente partición con un 3.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Si presionamos &lt;code&gt;Enter&lt;/code&gt; sin haber dado un número, &lt;code&gt;fdisk&lt;/code&gt; usará el número indicado como &lt;code&gt;&amp;lt;&amp;lt;default&amp;gt;&amp;gt;&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Escogemos también el primer sector. Nuevamente, si no se da un arcumento, se usará la propuesta &lt;code&gt;&amp;lt;&amp;lt;default&amp;gt;&amp;gt;&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Lo mismo sucede con el último sector. Pero obviamente, el tamaño de la partición creada será la diferencia del sector final menos el sector inicial.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Para hacer que el último sector de la partición esté &lt;code&gt;512Mb&lt;/code&gt; después que el primero, escribimos &lt;code&gt;+512M&lt;/code&gt; y presionamos Enter&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fdisk&lt;/code&gt; suele hacer las particiones del tipo &lt;strong&gt;Linux filesystem&lt;/strong&gt;. Pero queríamos una partición de tipo &lt;code&gt;EFI&lt;/code&gt;. Habrá que cambiar el tipo.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Presionamos &lt;code&gt;t&lt;/code&gt;. &lt;code&gt;fdisk&lt;/code&gt; pregunta por el número de la partición cuyo tipo queremos cambiar.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Una vez especificado el número de la partición, presionamos &lt;code&gt;L&lt;/code&gt; para tener un listado con los tipos de particiones. La lista es muy larga. Podemos presionar &lt;code&gt;q&lt;/code&gt; para salir de ella.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cuando encontramos el número en la lista para el tipo de formato que buscamos, salimos de la lista y damos dicho número a &lt;code&gt;fdisk&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ahora comprobamos que la partición sea tal como la queríamos al principio listando las particiones con &lt;code&gt;p&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;De manera similar, creamos una partición grande para el directorio raíz, del tipo &lt;strong&gt;Linux Filesystem&lt;/strong&gt;, y otra partición del tipo &lt;strong&gt;Linux swap&lt;/strong&gt; en el espacio restante (al menos 2Gb).&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Revisamos todo lo que hicimos con &lt;code&gt;p&lt;/code&gt;, y &lt;strong&gt;SÓLO SI ES CORRECTO&lt;/strong&gt;, aplicamos los cambios con &lt;code&gt;w&lt;/code&gt;. &lt;strong&gt;NO HAY VUELTA ATRÁs&lt;/strong&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Luego de correr el comando &lt;code&gt;w(rite)&lt;/code&gt; en &lt;code&gt;fdisk&lt;/code&gt;, los cambios en el disco son &lt;strong&gt;IRREVERSIBLES&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Se pueden hacer particionados más complejos, pero por ahora esto está bien. Deberíamos tener:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;&amp;ndash;512M&amp;ndash;&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;$\geq$ 10Gb&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;&amp;mdash;&amp;ndash;$\geq$ 2Gb&amp;mdash;&amp;ndash;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Part. de Win si se hace dual-boot&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;EFI&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Sistema Linux&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Swap&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;Ahora nos aseguramos de que la partición de sistema &lt;strong&gt;EFI&lt;/strong&gt; tenga un formato  &lt;strong&gt;FAT32&lt;/strong&gt; así:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkfs.fat -F32 /dev/sdxn
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Reemplazando &lt;code&gt;sdxn&lt;/code&gt; con el disco y partición relevantes (&lt;em&gt;e.g.&lt;/em&gt; &lt;code&gt;sdb3&lt;/code&gt;)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Le indicamos a Arch que nuestra partición tipo &lt;strong&gt;SWAP&lt;/strong&gt; será en efecto nuestra &lt;em&gt;área de trasiego&lt;/em&gt; con &lt;code&gt;mkswap&lt;/code&gt; :&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkswap /dev/sdxn
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;y la iniciamos con &lt;code&gt;swapon&lt;/code&gt; :&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;swapon /dev/sdxn
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Nos encargamos también de que la partición del &lt;strong&gt;Sistema Linux&lt;/strong&gt; tenga un formato &lt;strong&gt;Ext4&lt;/strong&gt; :&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkfs.ext4 /dev/sdxn
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Todo está listo para que arch pase al disco duro. Vamos a &lt;em&gt;montar&lt;/em&gt; el sistema de archivos que hemos creado (la partición de Sistema Linux $\geq$ 10Gb).&lt;/p&gt;
&lt;h2 id=&#34;montar-el-sistema-de-archivos&#34;&gt;Montar el sistema de archivos&lt;/h2&gt;
&lt;p&gt;Con &lt;em&gt;montar&lt;/em&gt; queremos decir:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;hacer una partición accesible a Arch asignándole un archivo (el &lt;em&gt;punto de montaje&lt;/em&gt;) en el árbol de directorios.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Para ello usamos &lt;code&gt;mount&lt;/code&gt; :&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mount /dev/sdxn /mnt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Donde &lt;code&gt;sdxn&lt;/code&gt; es la partición del sistema y se ha montado como &lt;code&gt;/mnt&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Creamos un directorio &lt;code&gt;boot&lt;/code&gt; en ese punto de montaje:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir mnt/boot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Y montaremos la partición de sistema EFI ahí:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mount /dev/sdxn /mnt/boot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Donde &lt;code&gt;sdxn&lt;/code&gt; es la partición de sistema EFI.&lt;/p&gt;
&lt;p&gt;Comprobamos que ambas particiones estén montadas en los directorios correctos con &lt;code&gt;df&lt;/code&gt; :&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;df
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;En la columna &lt;code&gt;Filesystem&lt;/code&gt; buscamos dichas particiones, y en la columna &lt;code&gt;Mounted on&lt;/code&gt; estarán los puntos de montaje que hemos asignado:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Filesystem     1K-blocks     Used Available Use% Mounted on
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dev              &lt;span style=&#34;color:#ae81ff&#34;&gt;8151048&lt;/span&gt;        &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;8151048&lt;/span&gt;   0% /dev
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;run              &lt;span style=&#34;color:#ae81ff&#34;&gt;8159992&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;1072&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;8158920&lt;/span&gt;   1% /run
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/dev/sda2      &lt;span style=&#34;color:#ae81ff&#34;&gt;939144724&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;97067796&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;794297244&lt;/span&gt;  11% /
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tmpfs            &lt;span style=&#34;color:#ae81ff&#34;&gt;8159992&lt;/span&gt;    &lt;span style=&#34;color:#ae81ff&#34;&gt;20124&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;8139868&lt;/span&gt;   1% /dev/shm
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/dev/sda1         &lt;span style=&#34;color:#ae81ff&#34;&gt;523244&lt;/span&gt;    &lt;span style=&#34;color:#ae81ff&#34;&gt;99588&lt;/span&gt;    &lt;span style=&#34;color:#ae81ff&#34;&gt;423656&lt;/span&gt;  20% /boot
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tmpfs            &lt;span style=&#34;color:#ae81ff&#34;&gt;8159996&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;7448&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;8152548&lt;/span&gt;   1% /tmp
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tmpfs            &lt;span style=&#34;color:#ae81ff&#34;&gt;1631996&lt;/span&gt;       &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;1631980&lt;/span&gt;   1% /run/user/1000
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Buscamos tener &lt;code&gt;/mnt&lt;/code&gt; para la partición de Sistema Linux, y &lt;code&gt;/mnt/boot&lt;/code&gt; para la partición de Sistema EFI.&lt;/p&gt;
&lt;p&gt;Ahora que Arch tiene acceso a esas particiones (pues ya tienen un lugar en el árbol de directorios) vamos a instalar los paquetes esenciales con &lt;code&gt;pacstrap&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;pacstrap&#34;&gt;pacstrap&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;pacstrap&lt;/code&gt; es una herramienta para instalar Arch. No debe confundirse con &lt;code&gt;pacman&lt;/code&gt;, que se instala con &lt;code&gt;pacstrap&lt;/code&gt; y sirve como administrador de paquetes una vez que estamos en Arch (ahora mismo estamos en ArchIso o algo así).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Instalamos el paquete &lt;code&gt;base&lt;/code&gt;, el paquete &lt;code&gt;linux&lt;/code&gt;, y el paquete &lt;code&gt;linux-firmware&lt;/code&gt;. Todos ellos en &lt;code&gt;/mnt&lt;/code&gt; :&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;pacstrap /mnt base linux linux-firmware
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;En realidad son grupos de paquetes, no paquetes individuales.&lt;/p&gt;
&lt;p&gt;Al terminar la instalación, generamos el archivo de configuración del sistema &lt;code&gt;fstab&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;fstab&#34;&gt;fstab&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;fstab&lt;/code&gt; contiene las características de todos los dispositivos de almacenamiento, como sus &lt;strong&gt;UUID&amp;rsquo;s&lt;/strong&gt;, sus opciones de montaje, y sus permisos. Este archivo estará en &lt;code&gt;/etc/fstab&lt;/code&gt;, y para generarlo usaremos &lt;code&gt;genfstab&lt;/code&gt; :&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;genfstab -U /mnt &amp;gt;&amp;gt; /mnt/etc/fstab
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Con esta línea le pedimos a &lt;code&gt;genfstab&lt;/code&gt; que revise las particiones puestas en &lt;code&gt;/mnt&lt;/code&gt; (esto es, desde ahí hasta el final de la jerarquía en el árbol de directorios), que use los &lt;strong&gt;UUID&amp;rsquo;s&lt;/strong&gt;, y que el resultado (la salida, el output) sea escrito en el archivo &lt;code&gt;/mnt/etc/fstab&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Podemos abrir el archivo de salida con &lt;code&gt;vi&lt;/code&gt;, sólo para comprobar que se ve correcto:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vim /mnt/etc/fstab
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Salimos de vi con &lt;code&gt;q!&lt;/code&gt;. Si estamos en modo edición, primero presionamos &lt;code&gt;ESC&lt;/code&gt; y luego escribimos &lt;code&gt;:q!&lt;/code&gt; para salir sin guardar cambios que hayamos hecho por accidente.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Ya tenemos Arch instalado en el disco, listo para arrancar, pero no configurado.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;saliendo-del-medio-de-instalación-y-entrando-al-sistema-operativo&#34;&gt;Saliendo del medio de instalación, y entrando al sistema operativo&lt;/h2&gt;
&lt;p&gt;Hasta ahora, el prompt de la consola aún dice:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;root@archiso~ &lt;span style=&#34;color:#75715e&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Donde el signo &lt;code&gt;#&lt;/code&gt; indica que la terminal está lista (y esperando) para recibir comandos dados por &lt;strong&gt;root&lt;/strong&gt;, el superusuario o usuario raíz, así que no es necesario correr las cosas con &lt;code&gt;sudo&lt;/code&gt; o pedirle privilegios al sistema por otros medios.&lt;/p&gt;
&lt;p&gt;El &lt;code&gt;#&lt;/code&gt; sería reemplazado por un &lt;code&gt;$&lt;/code&gt; si estuviéramos haciendo cosas como un usuario estándar (y tendríamos que usar &lt;code&gt;sudo&lt;/code&gt; para cuestiones administrativas, a menos que iniciemos una nueva sesión como usuario-raíz).&lt;/p&gt;
&lt;p&gt;Pero lo importante ahora mismo es que el usuario raíz está en el sistema con hostname &lt;code&gt;archiso&lt;/code&gt;. Es decir, el USB de instalación, y no la computadora misma&lt;sup id=&#34;fnref:7&#34;&gt;&lt;a href=&#34;#fn:7&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;7&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;Tenemos entonces que cambiar el directorio raíz con &lt;code&gt;arch-chroot&lt;/code&gt;. Queremos que nuestro nuevo directorio raíz (el nivel más alto en la jerarquía del árbol de directorios) de todo Arch sea &lt;code&gt;/mnt&lt;/code&gt;. Hacemos:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;arch-chroot /mnt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ya estamos trabajando en un sistema operativo, pero no tenemos mucho más. &lt;code&gt;/mnt&lt;/code&gt; ahora es sólo &lt;code&gt;/&lt;/code&gt;. Vamos a configurar algunas de las cosas más esenciales.&lt;/p&gt;
&lt;h2 id=&#34;zona-horaria&#34;&gt;Zona horaria&lt;/h2&gt;
&lt;p&gt;Queremos crear un &lt;strong&gt;enlace simbólico&lt;/strong&gt;&lt;sup id=&#34;fnref:8&#34;&gt;&lt;a href=&#34;#fn:8&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;8&lt;/a&gt;&lt;/sup&gt; desde &lt;code&gt;/usr/share/zoneinfo/Mexico/General&lt;/code&gt; o el archivo adecuado (revisar con &lt;code&gt;ls&lt;/code&gt; o con la completición automática con &lt;code&gt;TABULADOR&lt;/code&gt;) hacia &lt;code&gt;/etc/localtime&lt;/code&gt;. Para ello usamos &lt;code&gt;ln&lt;/code&gt; :&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ln -sf /usr/share/zoneinfo/Mexico/General /etc/localtime
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;El flag &lt;code&gt;-s&lt;/code&gt; y &lt;code&gt;-f&lt;/code&gt; se pueden combinar como &lt;code&gt;-sf&lt;/code&gt;. La s es de de &lt;em&gt;softlink&lt;/em&gt;, y la f de  &lt;em&gt;file&lt;/em&gt;. No tengo idea de lo que significan esos flags y me da flojera revisar eso.&lt;/p&gt;
&lt;p&gt;Ahora sincronizamos el reloj del sistema con el reloj de la mobo&lt;sup id=&#34;fnref:9&#34;&gt;&lt;a href=&#34;#fn:9&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;9&lt;/a&gt;&lt;/sup&gt; así:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hwclock --systohc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;hc&lt;/em&gt; viene de &lt;em&gt;hardware clock&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;También queremos activar el &lt;code&gt;locale&lt;/code&gt; necesario para tener la localización geográfica y codificación de caracteres adecuados.&lt;/p&gt;
&lt;h2 id=&#34;localización-geográfica&#34;&gt;Localización geográfica&lt;/h2&gt;
&lt;p&gt;La idea de configurar un locale es que todos los programas instalados y sitios web sepan sobre nuestras preferencias de idioma y charset (mapas de caracteres, que incluyen acentos y símbolos. Cirílico para Rusia, kanji para Japón, abjad para Arabia, etc).&lt;/p&gt;
&lt;p&gt;Para activar el locale que queremos usar, necesitamos &lt;code&gt;locale-gen&lt;/code&gt;. Pero primero debemos modificar el archivo &lt;code&gt;/etc/locale.gen&lt;/code&gt; con un editor de texto.&lt;/p&gt;
&lt;p&gt;Anteriormente usamos &lt;code&gt;vi&lt;/code&gt; para revisar el contenido del archivo &lt;code&gt;fstab&lt;/code&gt;. Pero &lt;code&gt;vi&lt;/code&gt; estaba en el iso del medio de instalación. Ya no lo tenemos ahora que estamos en nuestro propio sistema, con su propia raíz y sus dependencias básicas instaladas.&lt;/p&gt;
&lt;p&gt;Entre esas dependencias está &lt;code&gt;pacman&lt;/code&gt;, que podemos usar para instalar &lt;code&gt;vim&lt;/code&gt; :&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;pacman -Sy vim
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora, con &lt;code&gt;vim&lt;/code&gt; instalado, abrimos el archivo de configuración para &lt;code&gt;locale-gen&lt;/code&gt; :&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vim /etc/locale.gen
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Para habilitar un locale, &lt;strong&gt;descomentamos&lt;/strong&gt; el nombre de tal locale. Podemos buscar cadenas de texto haciendo &lt;code&gt;/cadena&lt;/code&gt;, reemplazando &lt;em&gt;cadena&lt;/em&gt; con lo que buscamos.&lt;/p&gt;
&lt;p&gt;Probemos buscando y descomentando &lt;code&gt;en_US.UTF-8 UTF-8&lt;/code&gt; o &lt;code&gt;es_MX.UTF-8 UTF-8&lt;/code&gt; (o ambos!). Presionamos &lt;code&gt;esc&lt;/code&gt; para salir del modo &lt;code&gt;insert&lt;/code&gt;, y luego escribirmos &lt;code&gt;:x&lt;/code&gt; para guardar y salir.&lt;/p&gt;
&lt;p&gt;Ahora corremos &lt;code&gt;locale-gen&lt;/code&gt; así:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;locale-gen
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ya que generamos los locales, abrimos &lt;code&gt;/etc/locale.conf&lt;/code&gt; con vim:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vim /etc/locale.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Y escribimos la siguiente línea:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#111&#34;&gt;LANG&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;en_US.UTF-8
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;para que el lenguaje del sistema sea inglés&lt;sup id=&#34;fnref:10&#34;&gt;&lt;a href=&#34;#fn:10&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;10&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;h2 id=&#34;hostname&#34;&gt;Hostname&lt;/h2&gt;
&lt;p&gt;El Hostname es el nombre que nuestra computadora reporta a la red local. No confundir con su IP. Redes grandes usan nombres con UUID&amp;rsquo;S&lt;sup id=&#34;fnref:11&#34;&gt;&lt;a href=&#34;#fn:11&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;11&lt;/a&gt;&lt;/sup&gt;, pero podemos usar cualquier nombre (&lt;em&gt;e.g.&lt;/em&gt; Poderosísimo_Servidor).&lt;/p&gt;
&lt;p&gt;Si Queremos un UUID, podemos usar &lt;code&gt;uuidgen&lt;/code&gt;, o ver qué propone el OS en &lt;code&gt;/etc/machine-id&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;usuarios-y-contraseñas&#34;&gt;Usuarios y contraseñas&lt;/h2&gt;
&lt;p&gt;Hacemos una contraseña para el usuario &lt;code&gt;root&lt;/code&gt;, el cual estamos usando actualmente:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;passwd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Y damos la nueva contraseña.&lt;/p&gt;
&lt;p&gt;Ahora añadimos un nuevo usuario &amp;ldquo;daquavious&amp;rdquo;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;useradd -g users -G power,storage -m daquavious
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;-g&lt;/code&gt; es para el grupo, &lt;code&gt;-G&lt;/code&gt; es para el(los) subgrupo(s). Todo usuario pertenece a un grupo y cero o más subgrupos.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-m&lt;/code&gt; sirve para crear un &lt;em&gt;directorio hogar&lt;/em&gt;. En este caso, se va a crear &lt;code&gt;/home/daquavious&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Si quisiéramos un nombre de usuario con mayúsculas&lt;sup id=&#34;fnref:12&#34;&gt;&lt;a href=&#34;#fn:12&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;12&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;useradd -g users -G power,storage -m Daquavious --force-badname
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Para darle (o cambiarle) una contraseña a &lt;code&gt;daquavious&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;passwd daquavious
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Y para cambiar su nombre de &lt;code&gt;daquavious&lt;/code&gt; a &lt;code&gt;bingleton&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;usermod -l bingleton daquavious
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;También vamos a hacer un usuario &lt;code&gt;invitado&lt;/code&gt;&lt;sup id=&#34;fnref:13&#34;&gt;&lt;a href=&#34;#fn:13&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;13&lt;/a&gt;&lt;/sup&gt; :&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;useradd -g user -m invitado
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Para que &lt;code&gt;invitado&lt;/code&gt; no tenga contraseña:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;passwd -d invitado
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;instalar-grub-y-usar-os-prober14&#34;&gt;Instalar GRUB y usar os-prober&lt;sup id=&#34;fnref:14&#34;&gt;&lt;a href=&#34;#fn:14&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;14&lt;/a&gt;&lt;/sup&gt;&lt;/h2&gt;
&lt;p&gt;Instalamos &lt;code&gt;grub&lt;/code&gt; y &lt;code&gt;efibootmgr&lt;/code&gt; :&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;pacman -S grub efibootmgr
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;También &lt;code&gt;os-prober&lt;/code&gt; para encontrar y añadir a &lt;code&gt;grub.cfg&lt;/code&gt; la partición de inicio de Windows:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;pacman -S os-prober
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Probamos que os-prober funcione corriendo el comando &lt;code&gt;os-prober&lt;/code&gt; y esperando que no se muestre ningún error.&lt;/p&gt;
&lt;p&gt;Ahora sí, instalamos GRUB (&lt;em&gt;i.e.&lt;/em&gt; lo convertimos en nuestro gestor de arranque, el &lt;em&gt;bootloader&lt;/em&gt;) especificando la arquitectura de nuestro CPU, el directorio de instalación, y el identificador de GRUB:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;grub-install --target&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;x86_64-efi --efi-directory&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/boot/ --bootloader-id&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;GRUB2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;La elección del identificador es libre, pero el nombre &lt;strong&gt;GRUB2&lt;/strong&gt; tiene sentido.&lt;/p&gt;
&lt;p&gt;Hay que montar la partición que contiene el bootloader de windows para que &lt;code&gt;os-prober&lt;/code&gt; la detecte. Para ello listamos todos los discos y particiones que existen en el sistema:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;fdisk -l
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;y cuando la encontremos (supongamos que es &lt;code&gt;sdxn&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mount /dev/sdxn /mnt2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Si el punto de montaje (en este caso &lt;code&gt;mnt2&lt;/code&gt;) no existe, lo creamos antes de montar con:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir /mnt2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Creamos automáticamente (se puede hacer manualmente) una configuración para grub:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;grub-mkconfig -o /boot/grub/grub.cfg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Revisamos que se encuentre y cree una entrada de &lt;code&gt;Windows Boot Manager&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Si ha funcionado, tenemos un dual-boot exitoso, pero la próxima vez que iniciemos Arch (ahora sí, sin el medio de instalación), no podremos descargar paquetes, porque no hemos configurado la red. Es conveniente hacerlo antes de reiniciar el equipo.&lt;/p&gt;
&lt;h2 id=&#34;networkmanager&#34;&gt;NetworkManager&lt;/h2&gt;
&lt;p&gt;Se puede configurar lo referente al adaptador de internet con mucho detalle, pero de momento, dejamos que &lt;code&gt;networkmanager&lt;/code&gt; lo haga. Debemos instalarlo:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;pacman -S networkmanager
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Y debemos hacer que arranque siempre que se inicie arch:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl &lt;span style=&#34;color:#111&#34;&gt;enable&lt;/span&gt; NetworkManager
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Las mayúsculas importan.&lt;/p&gt;
&lt;h2 id=&#34;disposición-de-teclado&#34;&gt;Disposición de teclado&lt;/h2&gt;
&lt;p&gt;También queremos que Arch siempre cargue la disposición de teclado que escogimos esta sesión cuando usamos &lt;code&gt;loadkeys&lt;/code&gt; al inicio de la guía. Para ello, abrimos &lt;code&gt;/etc/vconsole.conf&lt;/code&gt; con un editor de texto (como siempre, vim está bien), y escribimos:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#111&#34;&gt;KEYMAP&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;la-latin1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;para un teclado latinoamericano&lt;sup id=&#34;fnref:15&#34;&gt;&lt;a href=&#34;#fn:15&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;15&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;Con todo lo anterior ya podemos salir de arch con &lt;code&gt;exit&lt;/code&gt; para regresar al medio de instalación, y apagar el equipo con &lt;code&gt;shutdown now&lt;/code&gt; o reiniciar con &lt;code&gt;reboot&lt;/code&gt;. Luego quitamos el USB con la ISO de Arch y comprobamos que la mobo arranque GRUB, y que GRUB nos muestre entradas para Linux y para Windows como se debe.&lt;/p&gt;
&lt;p&gt;Por último, dejo aquí un pdf.
Si no lo puedes leer desde aquí,&lt;/p&gt;

  &lt;a href=&#34;master.pdf&#34; download&gt;Descárgalo haciéndo click aquí&lt;/a&gt;
&lt;embed src= &#34;master.pdf&#34; width= &#34;100%&#34; height= &#34;1000px&#34; type=&#34;application/pdf&#34; &gt;

&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;&lt;em&gt;¿No es un riesgo permitir que alguien con un USB pueda arrancar un OS con máximos permisos?&lt;/em&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Sí. Pero si esa persona tuvo permiso para poner un usb en un puerto y además arrancar la computadora desde cero, entonces ya es alguien con acceso físico, que es en sí un permiso. Además, las motherboards pueden denegar arranque a OS&amp;rsquo;es que no sepan responder a una clave en la memoria de arranque seguro (secure boot). De hecho para instalar arch, tuve que borrar las claves de arranque seguro porque mi motherboard sólo aceptaba ISO&amp;rsquo;s firmadas por Microsoft&lt;/p&gt;
&lt;/blockquote&gt;
&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;&lt;strong&gt;Ctrl+C&lt;/strong&gt; envía una señal al proceso que estaba escuchando al teclado. Esta señal es &lt;strong&gt;SIGINT&lt;/strong&gt;. Para más sobre señales, ver &lt;em&gt;TODO:señales.md&lt;/em&gt;&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34;&gt;
&lt;p&gt;La distribución de mi teclado funcionó bien con &lt;code&gt;es.map&lt;/code&gt;, y aún mejor con &lt;code&gt;latin&lt;/code&gt;.&amp;#160;&lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:4&#34;&gt;
&lt;p&gt;De manera similar, la fuente de la consola se cambia con el programa &lt;code&gt;setfont&lt;/code&gt;, los archivos de fuentes están en &lt;code&gt;/usr/share/kbd/consolefonts&lt;/code&gt;&amp;#160;&lt;a href=&#34;#fnref:4&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:5&#34;&gt;
&lt;p&gt;Si no existe ese directorio, la compu arranca en modo &lt;strong&gt;BIOS&lt;/strong&gt; o en modo &lt;strong&gt;CSM&lt;/strong&gt;, y ArchLinux usó &lt;code&gt;syslinux&lt;/code&gt; en vez de &lt;code&gt;systemd-boot&lt;/code&gt;. Esta guía la escribí para motherboard con interfaz &lt;strong&gt;UEFI&lt;/strong&gt;&amp;#160;&lt;a href=&#34;#fnref:5&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:6&#34;&gt;
&lt;p&gt;Un &lt;em&gt;servicio&lt;/em&gt; es un proceso que no espera interacciones con el usuario más allá de iniciarlo o detenerlo manualmente; por lo demás, este proceso está bajo su propia dirección o, más comúnmente, bajo la dirección del llamado &lt;em&gt;init system&lt;/em&gt;. En nuestro caso, el  &lt;em&gt;init system&lt;/em&gt; es &lt;code&gt;systemd&lt;/code&gt;. Ver la nota &lt;em&gt;TODO:Systemd&lt;/em&gt;&amp;#160;&lt;a href=&#34;#fnref:6&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:7&#34;&gt;
&lt;p&gt;La sintaxis del prompt por defecto es &lt;code&gt;username@hostname workingdir #/$&lt;/code&gt;. Si vemos &lt;code&gt;root@archiso~ #&lt;/code&gt;, sabemos que el usuario llamado &lt;code&gt;root&lt;/code&gt; está en la computadora llamada &lt;code&gt;archiso&lt;/code&gt; y en el directorio &lt;code&gt;~&lt;/code&gt;&amp;#160;&lt;a href=&#34;#fnref:7&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:8&#34;&gt;
&lt;p&gt;Los enlaces simbólicos son algo similar a lo que en MSWindows se conoce como &amp;ldquo;acceso directo&amp;rdquo;. Hay mucho que decir al respecto, y tal vez valga la pena escribir una nota (TODO)&amp;#160;&lt;a href=&#34;#fnref:8&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:9&#34;&gt;
&lt;p&gt;Motherboard, Tarjeta madre&amp;#160;&lt;a href=&#34;#fnref:9&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:10&#34;&gt;
&lt;p&gt;O &lt;code&gt;es_MX.UTF-8&lt;/code&gt; para usar español, obviamente. Prefiero inglés porque es el lenguaje en el que se suelen hacer preguntas, enviar logs, etc&amp;#160;&lt;a href=&#34;#fnref:10&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:11&#34;&gt;
&lt;p&gt;Universally Unique Identifier&amp;#160;&lt;a href=&#34;#fnref:11&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:12&#34;&gt;
&lt;p&gt;Es mala idea hacer nombres con mayúsculas. Usuarios con mayúsculas (&lt;em&gt;e.g.&lt;/em&gt; Invitado) sólo crean confusión, pues muchos servicios web no distinguen mayúsculas (&lt;em&gt;e.g.&lt;/em&gt; servidores de correo electrónico), y además existen sistemas que conservan ajustes antiguos de la época en que existían teclados/sistemas con sólo mayúsculas. Algunos programas leen una mayúscula y asumen que se está trabajando en un teclado de ese tipo.&amp;#160;&lt;a href=&#34;#fnref:12&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:13&#34;&gt;
&lt;p&gt;Hacer que un invitado sea parte de &lt;code&gt;power&lt;/code&gt; y &lt;code&gt;storage&lt;/code&gt; es una idea estúpida. Le estamos dando el poder de apagar nuestro sistema o crear/borrar archivos que no debería&amp;#160;&lt;a href=&#34;#fnref:13&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:14&#34;&gt;
&lt;p&gt;Instrucciones válidas sólo para sistemas UEFI&amp;#160;&lt;a href=&#34;#fnref:14&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:15&#34;&gt;
&lt;p&gt;Esta es la distribución de teclado que se usará en las TTY&amp;rsquo;s, y es independiente de la que se use en un entorno gráfico (&lt;em&gt;e.g.&lt;/em&gt; X11)&amp;#160;&lt;a href=&#34;#fnref:15&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>